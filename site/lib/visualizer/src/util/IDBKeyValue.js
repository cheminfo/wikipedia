'use strict';define(function(){"use strict";function a(a){this.dbName=`kv-${a}`,this.ready=new Promise((a,b)=>{var c=window.indexedDB.open(this.dbName);c.onupgradeneeded=a=>{this.db=a.target.result,this.db.createObjectStore("store")},c.onsuccess=b=>{this.db=b.target.result,a()},c.onerror=a=>{this.db=a.target.result,b(a)}})}return a.prototype.get=function(a){return this.ready.then(()=>new Promise((b,c)=>{var d=this.getStore().get(a);d.onsuccess=a=>b(a.target.result),d.onerror=c}))},a.prototype.getStore=function(){return this.db.transaction(["store"],"readwrite").objectStore("store")},a.prototype.set=function(a,b){return this.ready.then(()=>new Promise((c,d)=>{var e=this.getStore().put(b,a);e.onsuccess=c,e.onerror=d}))},a.prototype.delete=function(a){return this.ready.then(()=>new Promise((b,c)=>{var d=this.getStore().delete(a);d.onsuccess=b,d.onerror=c}))},a.deleteDatabase=function(a){window.indexedDB.deleteDatabase(a)},a});
