"use strict";define(["jquery","src/header/components/default","src/main/grid","src/util/util"],function(a,b,c,d){function e(){}var f;return d.inherits(e,b,{initImpl:function(){},_onClick:function(){var a=this;this.setStyleOpen(this._open),this._open?(f&&f!==this&&f._open&&f.onClick(),f=a,(this.options.viewURL||this.options.dataURL)&&this.load(this.options),this.doElements()):this.close()},doElements:function(){this.$_elToOpen=this._doElements(this.options.layers),this.open()},_doElements:function(b){b||(b=c.getLayerNames());for(var d=a("<ul />")||this.$_elToOpen.empty(),e=0,f=b.length;f>e;e++)d.append(this._buildSubElement(b[e]));return d},_buildSubElement:function(b){var d=this,e=a("<li />").text(b);return e.addClass("hasEvent").bind("click",function(){c.switchToLayer(b),d.onClick()}),e}}),e});