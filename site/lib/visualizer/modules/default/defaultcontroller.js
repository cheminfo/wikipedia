define(["src/util/api","src/util/util","src/main/grid"],function(a,b){return{setModule:function(a){this.module=a},init:function(){this.initImpl()},initImpl:function(){this.resolveReady()},getToolbar:function(){return[{onClick:function(){this.enableFullscreen()},title:"Show fullscreen",cssClass:"fa fa-expand",ifLocked:!0},{onClick:function(){this.doConfig(2)},title:"Open Preferences",cssClass:"fa fa-wrench",ifLocked:!1}]},inDom:b.noop,setVarFromEvent:function(b,c,d,e,f){var g,h=0,i=!0;if(g=this.module.vars_out())for(;h<g.length;h++)g[h].event!=b||g[h].rel!=c&&c||!g[h].name||(i&&f&&(i=!1,f.call(this)),g[h].jpath=g[h].jpath||[],"string"==typeof g[h].jpath&&(g[h].jpath=g[h].jpath.split("."),g[h].jpath.shift()),a.setVar(g[h].name,this.module.getVariableFromRel(d),e.concat(g[h].jpath),g[h].filter))},createDataFromEvent:function(b,c,d,e){var f,g=0,h=!0;if(f=this.module.vars_out())for(;g<f.length;g++)f[g].event!=b||f[g].rel!=c&&c||!f[g].name||(h&&e&&(h=!1,d=e.call(this)),a.createDataJpath(f[g].name,d,f[g].jpath,f[g].filter))},sendActionFromEvent:function(b,c,d){var e,f,g,h=this.module.actions_out();if(h)for(e=h.length-1;e>=0;e--)h[e].name&&h[e].rel===c&&(b&&b===h[e].event||!b)&&(g=h[e].name,f=h[e].jpath,d&&f?(d.getChild||(d=DataObject.check(d,!0)),function(b){d.getChild(f).then(function(c){a.doAction(b,c)})}(g)):a.doAction(g,d))},sendAction:b.deprecate(function(a,b,c){return this.sendActionFromEvent(c,a,b)},"Use sendActionFromEvent instead."),allVariablesFor:function(a,b,c){var d,e=0;if(d=this.module.vars_out())for(;e<d.length;e++)d[e].event!=a||d[e].rel!=b&&b||c(d[e])},export:b.noop,print:function(){return this.module.getDomContent()[0].innerHTML},configurationStructure:b.noop,configFunctions:{},configAliases:{},events:{},variablesIn:[],actionsIn:{_editPreferences:"Edit preferences"},resolveReady:function(){this.module._resolveController()},onBeforeRemove:function(){return!0},onRemove:b.noop}});