define(["modules/default/defaultview","src/util/datatraversing","src/util/domdeferred","src/util/api","src/util/typerenderer"],function(a,b,c,d,e){function f(){}return f.prototype=$.extend(!0,{},a,{init:function(){var a="<div></div>";this.dom=$(a).css({display:"table","table-layout":"fixed",height:"100%",width:"100%"}),this.values={},this.module.getDomContent().html(this.dom),this.fillWithVal(this.module.getConfiguration("defaultvalue")),this.resolveReady(),this._relsForLoading=["value"]},blank:{value:function(){this.dom.empty()}},update:{color:function(a){void 0!==a&&this.module.getDomContent().css("background-color",a.get())},value:function(a,b){void 0==a?this.fillWithVal(this.module.getConfiguration("defaultvalue")||""):this.render(a,b)}},render:function(a,b){var c=this,d=e.toScreen(a,this.module);d.always(function(a){c.values[b]=a,c.renderAll(a,d)})},renderAll:function(a,b){{var c=this,d=this.module.getConfiguration("sprintf");this.module.getConfiguration("sprintfOrder")}if(d&&""!=d)try{require(["components/sprintf/dist/sprintf.min"],function(){var e=[d];for(var f in c.values)e.push(c.values[f]);a=sprintf.apply(this,e),c.fillWithVal(a,b)})}catch(e){c.fillWithVal(a,b)}else c.fillWithVal(a,b)},fillWithVal:function(a,b){var d=this.module.getConfiguration("valign"),e=this.module.getConfiguration("align"),f=this.module.getConfiguration("fontcolor"),g=this.module.getConfiguration("fontsize"),h=this.module.getConfiguration("font"),i=this.module.getConfigurationCheckbox("preformatted","pre"),j=this.module.getConfigurationCheckbox("preformatted","selectable"),k=void 0!=a?a.toString():"",l=$("<div />").css({fontFamily:h||"Arial",fontSize:g||"10pt",color:f||"#000000",display:"table-cell","vertical-align":d||"top",textAlign:e||"center",width:"100%",height:"100%","white-space":i?"pre":"normal","word-wrap":"break-word","user-select":j?"text":"none"}).html(k);this.dom.html(l),b&&b.build&&b.build(),c.notify(l)}}),f});