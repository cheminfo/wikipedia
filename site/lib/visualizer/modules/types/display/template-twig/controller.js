'use strict';define(["jquery","modules/default/defaultcontroller"],function(a,b){"use strict";function c(){}return a.extend(!0,c.prototype,b),c.prototype.moduleInformation={name:"Twig template",description:"Display parts of an object using a twig template",author:"Micha\xEBl Zasso",date:"02.04.2014",license:"MIT",cssClass:"twig"},c.prototype.references={value:{label:"Any object"},tpl:{label:"Template",type:"string"},renderedHtml:{label:"Rendered HTML",type:"string"},form:{label:"Form object"},formFull:{label:"Form object with meta informations"},style:{label:"Style object"}},c.prototype.events={onRendered:{label:"Html was rendered",refVariable:["renderedHtml"],refAction:["renderedHtml"]},onFormChanged:{label:"Form changed",refVariable:["form","formFull"],refAction:["form","formFull"]},onFormSubmitted:{label:"Form submitted",refVariable:["form","formFull"],refAction:["form","formFull"]}},c.prototype.export=function(){return this.module.view.exportToHTML()},c.prototype.variablesIn=["value","tpl","form","style"],c.prototype.configurationStructure=function(){return{groups:{group:{options:{type:"list"},fields:{selectable:{type:"checkbox",title:"Selectable",options:{yes:"Yes"}},template:{type:"jscode",title:"Template",mode:"html",default:""},modifyInForm:{type:"checkbox",title:"Modify form in",options:{yes:"Yes"}},debouncing:{type:"float",title:"Debouncing",default:0},formOptions:{type:"checkbox",title:"Form options",options:{keepFormValueIfDataUndefined:"Keep form value if data undefined",rerenderIfFormValueChanges:"Rerender form if form value changes",rerenderIfValueChanges:"Rerender form if any value changes"},default:["keepFormValueIfDataUndefined"]}}}}}},c.prototype.configAliases={template:["groups","group",0,"template",0],selectable:["groups","group",0,"selectable",0],modifyInForm:["groups","group",0,"modifyInForm",0],debouncing:["groups","group",0,"debouncing",0],formOptions:["groups","group",0,"formOptions",0]},c.prototype.actionsIn=a.extend({},b.actionsIn,{clearForm:"Clear form",setForm:"Set form values"}),c.prototype.onRendered=function(a){setTimeout(()=>{this.createDataFromEvent("onRendered","renderedHtml",a),this.sendActionFromEvent("onRendered","renderedHtml",a)},0)},c.prototype.onFormChanged=function(a,b){this._doForm("onFormChanged",a,b)},c.prototype.onFormSubmitted=function(a){this._doForm("onFormSubmitted",a)},c.prototype._doForm=function(a,b,c){this.createDataFromEvent(a,"form",b.data),this.sendActionFromEvent(a,"form",b.data),this.createDataFromEvent(a,"formFull",b),this.sendActionFromEvent(a,"formFull",b),!c&&this.module.getConfigurationCheckbox("modifyInForm","yes")&&this.module.view.formObject&&this.module.view.formObject.mergeWith(DataObject.resurrect(b.data),this.module.getId())},c});
