define(["modules/default/defaultcontroller","src/util/datatraversing","lib/formcreator/formcreator"],function(a,b,c){function d(){}return d.prototype=$.extend(!0,{},a),d.prototype.moduleInformation={moduleName:"Configured search",description:"Filters an array with configured UI criterias",author:"Norman Pellet",date:"24.12.2013",license:"MIT",cssClass:"configured_search"},d.prototype.references={array:{label:"An input array",type:"array"},filteredArray:{label:"Filtered array",type:"array"},flagArray:{label:"Array of booleans",type:"array"},countResult:{type:"number",label:"Number of selected items"}},d.prototype.events={onSearchDone:{label:"When a search is performed",refVariable:["filteredArray","flagArray"],refAction:["filteredArray","flagArray","countResult"]}},d.prototype.variablesIn=["array"],d.prototype.actionsIn={disable:"Disable the search"},d.prototype.configurationStructure=function(){var a=[],d=this.module.getDataFromRel("array");return d&&(d=d.get(),b.getJPathsFromElement(d[0],a)),{groups:{group:{options:{type:"list"},fields:{max:{type:"text",title:"Maximum hits","default":"50"},disableMessage:{type:"text",title:"Disable message","default":"Click to enable search"}}}},sections:{searchFields:c.makeConfig({name:"Search on",jpaths:a},{name:"Comparison"})}}},d.prototype.searchDone=function(a,b){this.createDataFromEvent("onSearchDone","flagArray",b),this.sendAction("flagArray",b,"onSearchDone"),this.createDataFromEvent("onSearchDone","filteredArray",a),this.sendAction("filteredArray",a,"onSearchDone"),this.createDataFromEvent("onSearchDone","countResult",a.length)},d.prototype.configFunctions={searchfields:function(a){return Array.isArray(a)?a:[]}},d.prototype.configAliases={searchfields:["sections","searchFields"],maxhits:["groups","group",0,"max",0],disableMessage:["groups","group",0,"disableMessage",0]},d});