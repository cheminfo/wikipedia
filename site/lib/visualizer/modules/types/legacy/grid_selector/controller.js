define(["modules/default/defaultcontroller"],function(a){function b(){}return b.prototype=$.extend(!0,{},a,{initimpl:function(){this._currentValue={}},selectorChanged:function(a,b,c){this._currentValue[a]=this._currentValue[a]||{},this._currentValue[a][b]=c,this.module.getConfiguration()._data=this._currentValue;var d={};d[a]={},d[a][b]=c,this.sendEvent(d)},setSelector:function(a){this._currentValue=a,this.module.getConfiguration()._data=this._currentValue,this.sendEvent(this._currentValue)},sendEvent:function(a){var b;if(b=this.module.vars_out())for(var c=0;c<b.length;c++)"onChangePref"==b[c].event&&CI.Repo.set(b[c].name,a)},configurationSend:{events:{onChangePref:{label:"A preference has been changed",description:"When a preference changes"}},rels:{listPref:{label:"Preference grid",description:""}}},configurationReceive:{preferences:{type:["array"],label:"Preferences",description:"A list of preferences"}},moduleInformations:{name:"Selector"},doConfiguration:function(){return!0},doFillConfiguration:function(){return{}},doSaveConfiguration:function(){},"export":function(){}}),b});