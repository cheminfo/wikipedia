'use strict';define(["modules/default/defaultview","modules/types/edition/onde/view","modules/types/display/template-twig/view"],function(a,b,c){"use strict";function d(){this.twigV=new c,this.ondeV=new b}return $.extend(!0,d.prototype,a,{setModule:function(a){this.module=a,this.twigV.module=$.extend({},a),this.twigV.module.view=this.twigV,a.twigM=this.twigV.module,this.ondeV.module=$.extend({},a),this.ondeV.module.view=this.ondeV,a.ondeM=this.ondeV.module;var b=this,c=function(){return b.module.getConfiguration.apply(b.module,arguments)};this.twigV.module.getConfiguration=c,this.ondeV.module.getConfiguration=c},init:function(){this.dom=$("<div></div>").css({height:"100%",width:"100%"}),this.twigV.init(),this.ondeV.init();var a=this,b=this.ondeV.exportForm;this.ondeV.exportForm=function(){b.apply(this),a.loadTwig()},this.ondeV.initForm()},blank:{},inDom:function(){this.module.getDomContent().html(this.dom),this.loadTwig(),this.resolveready()},update:{value:function(a,b){this._value=[a,b],this.twigV.update.value.apply(this.twigV,arguments),this.ondeV.update.inputValue.apply(this.ondeV,arguments)}},loadOnde:function(){this.dom.html(this.ondeV.dom)},loadTwig:function(){var a=this;this.dom.html(this.twigV.dom),this.twigV.dom.dblclick(function(){a.loadOnde()}),this._value&&this.twigV.update.value.apply(this.twigV,this._value),this.twigV.render()}}),d});
