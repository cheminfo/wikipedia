"use strict";define(["modules/default/defaultview","src/util/util","jquery"],function(a,b,c){function d(){}return c.extend(!0,d.prototype,a,{init:function(){this.dom=c("<div />");var a=this,b=c('<div class="ci-navigation-navigarrow"></div>');this.domNavig=c("<div />").addClass("ci-navigation-navig").append(b.clone().addClass("top")).append(b.clone().addClass("left")).append(b.clone().addClass("right")).append(b.clone().addClass("bottom")).on("mousedown",".ci-navigation-navigarrow",function(b){a.moveStart(b)}),this.domZoom=c('<div class="ci-navigation-navigzoom"></div>'),this._zoomWidget=this.domZoom.slider({height:100,orientation:"vertical",min:0,step:.01,max:1,value:.5,slide:function(b,c){a.zoom(c.value)}}),this.dom.append(this.domNavig).append(this.domZoom),this.module.getDomContent().html(this.dom),this.cx=0,this.cy=0,this.step=2,this.resolveReady()},update:{xycoords:function(a){a&&(this.cx=a[0],this.cy=a[1])},zoom:function(a){a&&(this._zoom=a,this._zoomWidget.hasClass("ui-slider")&&this._zoomWidget.slider("value",this._zoom))}},zoom:function(a){this.module.controller.zoom(a)},moveStart:function(a){var b,d=Date.now(),e=this,f=c(a.target||a.srcElement),g=f.hasClass("top")?"top":f.hasClass("bottom")?"bottom":f.hasClass("left")?"left":f.hasClass("right")?"right":"top",h=function(){return 3e5/(Date.now()-d+1500)+10},i=function(){"top"==g?e.cy-=e.step:"bottom"==g?e.cy+=e.step:"left"==g?e.cx-=e.step:"right"==g&&(e.cx+=e.step),e.module.controller.move(e.cx,e.cy),j()},j=function(){b=window.setTimeout(i,h())},k=function a(){window.clearTimeout(b),c(document).unbind("mouseup",a)};c(document).bind("mouseup",k),i()},onActionReceive:{changeXY:function(a){this.cx=parseFloat(a)}}}),d});